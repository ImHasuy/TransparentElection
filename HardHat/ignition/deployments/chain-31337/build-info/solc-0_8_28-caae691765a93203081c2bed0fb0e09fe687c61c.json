{
  "_format": "hh3-sol-build-info-1",
  "id": "solc-0_8_28-caae691765a93203081c2bed0fb0e09fe687c61c",
  "solcVersion": "0.8.28",
  "solcLongVersion": "0.8.28+commit.7893614a",
  "userSourceNameMap": {
    "contracts/Voting.sol": "project/contracts/Voting.sol"
  },
  "input": {
    "language": "Solidity",
    "settings": {
      "evmVersion": "cancun",
      "optimizer": {
        "enabled": true,
        "runs": 200
      },
      "outputSelection": {
        "*": {
          "": [
            "ast"
          ],
          "*": [
            "abi",
            "evm.bytecode",
            "evm.deployedBytecode",
            "evm.methodIdentifiers",
            "metadata"
          ]
        }
      },
      "remappings": []
    },
    "sources": {
      "project/contracts/Voting.sol": {
        "content": "// SPDX-License-Identifier: MIT\npragma solidity ^0.8.24;\n\ncontract Voting {\n    address public owner;\n\n    struct VoteData {\n        string partyVote;\n        string singleMemberVote;\n        bool hasVoted;\n        uint256 timestamp;\n    }\n\n\n    mapping(address => VoteData) public votes;\n\n\n    mapping(string => uint256) public partyVoteCounts;\n    mapping(string => uint256) public memberVoteCounts;\n\n\n    event VoteCast(address indexed voter, string party, string member, uint256 timestamp);\n\n    constructor() {\n        owner = msg.sender;\n    }\n\n    function vote(string memory _party, string memory _member, address _voter) external {\n        require(msg.sender == owner, \"Only backend can submit\");\n        require(!votes[_voter].hasVoted, \"Already voted\");\n\n\n        votes[_voter] = VoteData({\n            partyVote: _party,\n            singleMemberVote: _member,\n            hasVoted: true,\n            timestamp: block.timestamp\n        });\n\n        partyVoteCounts[_party]++;\n        memberVoteCounts[_member]++;\n\n        emit VoteCast(_voter, _party, _member, block.timestamp);\n    }\n\n\n    function getPartyCount(string memory _partyId) external view returns (uint256) {\n        return partyVoteCounts[_partyId];\n    }\n\n\n    function getMemberCount(string memory _memberId) external view returns (uint256) {\n        return memberVoteCounts[_memberId];\n    }\n\n    function getUserVote(address _user) external view returns (string memory party, string memory member) {\n        require(votes[_user].hasVoted, \"User has not voted\");\n        return (votes[_user].partyVote, votes[_user].singleMemberVote);\n    }\n}"
      }
    }
  }
}